
{
    "id": "HighblockHalls",
	"require-matching-doors": false,
    "object-groups": [
		"highblockhalls/objectgroup", "PrisonDungeon/objectgroup"
    ],
	
	    "resource-packs": [
        "HighblockHalls"
    ],
	
	"visual-theme": "cave",
	"sound-theme": "cave",
	"prop-density": 0.8,
	"mob-files": [
		"HighblockHalls/mobs.json"
	],
    "#dm" : "density:Float {only, add}: WeightedStringArray, not: StringArray",
    "default-mobs": {
        "only": [
            "hh-default",
            "hh-default-wraiths",
			"hh-default-guards"
        ]
    },
    "tile-files": [
		"HighblockHalls/tiles.json",
        "RuneRoom/rr_tiles.json"
    ],
    "stretches": [
	
		{
            "id": "startstretch",
            "tiles": ["hh_start_new"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0.5
			}
        },
		{
            "id": "secret",
            "tiles": ["hh_005_secret"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 1
			}
        },
		{
            "id": "dungeon0",
            "tiles": ["hh_002", "hh_004", "hh_005", "hh_006_alt", "hh_012", "hh_013", "hh_017"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 1
			}
        },
		{
            "id": "dungeon1",
            "tiles": ["hh_002", "hh_004", "hh_005", "hh_006_alt", "hh_012", "hh_013", "hh_017", "hh_tothewall001"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 1
			}
        },
		{
            "id": "abyss1",
            "tiles": ["hh_004", "hh_011", "hh_012", "hh_015", "hh_017", "hh_018"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 1
			}
        },
		{
            "id": "keystretch",
            "tiles": ["hh_key001", "hh_arena001", "hh_arena002"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 1
			}
        },		
		{
            "id": "abyss2",
            "tiles": ["hh_004", "hh_011", "hh_012", "hh_015", "hh_017", "hh_018"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 1
			}
        },
		{
            "id": "inventory002",
            "tiles": ["hh_inventory002"],
			"length": 1
        },
		{
            "id": "transition1",
            "tiles": ["hh_slipgate"],
			"length": 1
        },
		{
            "id": "courtyard",
            "tiles": ["hh_longestyard_alt","secret@hh_longestyard_alt"],
			"audio-ambience":"audio_6",
			"length": 1,
			"mobs": {
				"density": 1,
				"only": ["hh-courtyard-group"]
			}
        },
		{
            "id": "feast1",
            "tiles": ["hh_new_kitchen"],
			"length": 1,
			"mobs": {
				"only": ["hh-chef"],
				"density": 2
			}
        },
		{
            "id": "feast3",
            "tiles": ["hh_feast001"],
			"length": 1,
			"mobs": {
				"density": 1
			}
        },
				{
            "id": "feast4",
            "tiles": ["hh_feast002"],
			"length": 1,
			"mobs": {
				"density": 1
			}
        },
		{
            "id": "cozy1",
            "tiles": ["hh_001", "hh_009", "hh_010", "hh_019", "hh_020", "hh_021"],
			"length": 2,
			"mobs": {
				"density": 1
			}
        },
		{
            "id": "Trap",
            "tiles": ["hh_doomtrap"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 1
			}
        },
		{
            "id": "cozy2",
            "tiles": ["hh_001", "hh_009", "hh_010", "hh_019", "hh_020", "hh_021"],
			"length": 1,
			"mobs": {
				"density": 1
			}
        },
		{
            "id": "inventory003",
            "tiles": ["hh_inventory001"],
			"length": 1
        },
		{
            "id": "finale",
            "tiles": ["hh_throne_redesign"],
			"length": 1,
			"mobs": {
				"density": 1,
				"only": ["hh-climax-group"]
			}
        }
    ],
	
	"objectives": [
		{
            "name": "name_crashing_the_party",
            "description": "description_reach_the_feast",
            "displayMode": "MainObjective",
            "gauntlet": {
                "end-region": "feast1.*.objective"
            }
        },
		{
            "name": "name_crashing_the_party",
            "description": "description_destroy_the_buffet_tables",
            "displayMode": "MainObjective",
            "click": {
                "object": "Decor/Prefabs/_Fruit_Food/Buffettable/BP_BuffetTableInteractable",
				"door-path": "Decor/Prefabs/Platforms/BP_KitchenGateHH",
                "count": 4,
                "locations": [
            	    "feast1.*.buffet1",
            		"feast1.*.buffet2",
					"feast1.*.buffet3",
            		"feast1.*.buffet4"
                ],
                "locked-doors": [
                	"feast1.*.gate"
                ]
            }
        },
		{
            "name": "name_crashing_the_party",
            "description": "description_destroy_the_buffet_tables",
            "displayMode": "MainObjective",
            "click": {
                "object": "Decor/Prefabs/_Fruit_Food/Buffettable/BP_BuffetTableInteractable_Angled",
                "count": 8,
                "locations": [
            	    "feast3.*.buffet1",
            		"feast3.*.buffet2",
					"feast3.*.buffet3",
            		"feast3.*.buffet4",
					"feast3.*.buffet5",
            		"feast3.*.buffet6",
					"feast3.*.buffet7",
            		"feast3.*.buffet8"
                ]
            }
        },
		{
            "name": "name_crashing_the_party",
            "description": "description_destroy_the_buffet_tables",
            "displayMode": "MainObjective",
            "click": {
                "object": "Decor/Prefabs/_Fruit_Food/Buffettable/BP_BuffetTableInteractable",
				"door-path": "Decor/Prefabs/Platforms/BP_KitchenGateHH",
                "count": 4,
                "locations": [
            	    "feast4.*.buffet1",
            		"feast4.*.buffet2",
					"feast4.*.buffet3",
            		"feast4.*.buffet4"
                ],
                "locked-doors": [
                	"feast4.*.gate"
                ]
            }
        },
		{
            "name": "name_crashing_the_party",
            "description": "description_reach_the_feast",
            "displayMode": "MainObjective",
            "gauntlet": {
                "end-region": "finale.*.objective2"
            }
        },
		{
            "name": "name_crashing_the_party",
            "description": "description_confront_the_archillager",
            "displayMode": "MainObjective",
            "gauntlet": {
                "end-region": "*.*.throne"
            }
        },
		/*{
            "name": "name_crashing_the_party",
            "description": "description_confront_the_archillager",
            "displayMode": "MainObjective",
            "click": {
                "object": "Decor/Prefabs/Throne/BP_ThroneInteractable",
                "count": 1,
                "locations": [
            	    "finale.*.throne"
                ]            
            }
        },*/
		{
            "name": "name_crashing_the_party",
            "description": "description_survive_the_trap",
            "displayMode": "MainObjective",
            "arena": {
                "stretch": "finale",
                "interval": 999999999999,
                "start-time": 5.0,
                "rest-interval": 0.5,
                "prespawn-mob": "",
                "waves": [

                    [12, "only-royalguard"],
                    [13, "hh-climax-guards"],
                    [15, "hh-default-wraiths"],
                    [15, "hh-default-wraiths"],
                    [18, "hh-climax-guards"],
                    [18, "hh-climax-wraiths"],
                    [18, "hh-climax-wraiths"]
                ],
                "gate": {
                    "object": "Decor/Prefabs/Door/BP_ThroneDoor",
                    "start-unlocked": true
                }
            }
        },
		{
            "name": "name_crashing_the_party",
            "description": "description_escape_the_castle",
            "displayMode": "MainObjective",
            "click": {
                "object": "Decor/Prefabs/DoorExit/BP_DoorExit_HBH",
                "count": 1,
                "locations": [
                    "finale.*.doorexit"
					]
			}
        }
	],
	"dungeon-files": [
		"HighblockHalls/hh_bonus_cellar.json",
		"HighblockHalls/hh_bonus_prison.json",
		"HighblockHalls/cellar.json",
		"HighblockHalls/prison.json",
		"HighblockHalls/well.json",
		"HighblockHalls/outerwall.json",
		"HighblockHalls/secretroom.json",
		"HighblockHalls/runesecret.json"
	],
	"challenges": [
		{
            "id": "inventory_lever",
            "trigger": "*.*.leverchallenge",
            "click": {
                "object": "Decor/Prefabs/GuideBeacon/BP_DoorLever",
                "door-path": "Decor/Prefabs/Platforms/BP_KitchenGateHH",
                "count": 1,
                "locations": [
                    "inventory002.*.lever"
                ],
                "locked-doors": [
                    "inventory002.*.gate"
                ]
            }
        },
		{
            "id": "underhalls_lever",
            "trigger": "*.hh_underhallsreturn.leverchallenge",
            "click": {
                "object": "Decor/Prefabs/GuideBeacon/BP_DoorLever",
                "door-path": "Decor/Prefabs/Platforms/BP_KitchenGateHH",
                "count": 1,
                "locations": [
                    "*.hh_underhallsreturn.lever"
                ],
                "locked-doors": [
                    "*.hh_underhallsreturn.gate"
                ]
            }
        },
		{
            "id": "well_lever",
            "trigger": "well_exit.*.challenge",
            "click": {
                "object": "Decor/Prefabs/GuideBeacon/BP_DoorLever",
                "door-path": "Decor/Prefabs/Platforms/BP_KitchenGateHH",
                "count": 1,
                "locations": [
                    "well_exit.*.lever"
                ],
                "locked-doors": [
                    "well_exit.*.gate"
                ]
            }
        },
        {
            "id": "clicky_arena",
            "trigger-object": "Decor/Prefabs/SupportBeams/BP_GallowsTrigger",
            "reward": {
                "region": "*.*.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },
            "arena": {
                "stretch": "*",
                "interval": 2.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_arena"],
					[1, "cellar_arena"],
					[1, "cellar_arena"],
					[1, "cellar_arena"],
					[1, "cellar_arena"],
					[2, "cellar_arena"],
					[2, "cellar_arena"],
					[2, "cellar_arena"]
                ],
                 "gate": null
            }
        },
		{
            "id": "trigger_arena",
            "trigger": "*.*.challenge",
            "reward": {
                "region": "*.*.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },
            "arena": {
                "stretch": "*",
                "interval": 1.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_mobs"],
					[1, "cellar_mobs"],
					[2, "cellar_mobs"],
					[2, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[4, "cellar_mobs"],
					[4, "cellar_mobs"],
                ],
                 "gate": {
                    "start-unlocked": true
				}
			}
        },
		{
            "id": "trigger_arena2",
            "trigger": "*.hh_cellar_challenge_002.challenge1",
            "reward": {
                "region": "*.hh_cellar_challenge_002.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },
            "arena": {
                "stretch": "*",
                "interval": 1.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_mobs"],
					[1, "cellar_mobs"],
					[2, "cellar_mobs"],
					[2, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[4, "cellar_mobs"],
					[4, "cellar_mobs"],
                ],
                 "gate": {
                    "start-unlocked": true
				}
			}
        },
		{
            "id": "trigger_arena3",
            "trigger": "*.hh_cellar_challenge_003.challenge2",
            "reward": {
                "region": "*.hh_cellar_challenge_003.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },
            "arena": {
                "stretch": "*",
                "interval": 1.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_mobs"],
					[1, "cellar_mobs"],
					[2, "cellar_mobs"],
					[2, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[4, "cellar_mobs"],
					[4, "cellar_mobs"],
                ],
                 "gate": {
                    "start-unlocked": true
				}
			}
        },
		{
            "id": "trigger_silvergate",
			"trigger": "*.*.silvergatechallenge",
			"consider-tiles": "all",
            "click": {
                "object": "Decor/Prefabs/DoorExit/BP_DoorLocked_Silver_CactiCanyon",
                "count": 1,
                "locations": [
                    "*.*.silvergate"
                ],
                "key-locations": [
                    "*.*.pickupkey"
                ],
                "key-type": "silver"
            }
        },
		{
            "id": "supertrap",
            "trigger": "*.*.traparena",
            /*"reward": {
                "region": "*.hh_cellar_challenge_001.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },*/
            "arena": {
                "stretch": "*",
                "interval": 1.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_mobs"],
					[1, "cellar_mobs"],
					[2, "cellar_mobs"],
					[2, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[4, "cellar_mobs"],
					[4, "cellar_mobs"],
                ],
                 "gate": {
                    "start-unlocked": true
				}
			}
        },
		{
            "id": "main_arena1",
			"trigger": "keystretch.*.objective_arena",
            "arena": {
                "stretch": "keystretch",
                "interval": 5,
                "rest-interval": 0,
				"start-time": 2.0,
                "waves": [
                    [4, "arena-raiders"],
					[4, "arena-raiders"],
					[6, "arena-raiders"],
					[6, "arena-raiders"],
                    [5, "arena-enchanter-group"],
					[3, "arena-enchanter-group"],
					[3, "arena-enchanter-group"],
					[3, "arena-enchanter-group"],
					[8, "arena-evoker-group"],
					[5, "arena-raiders"],
					[4, "arena-evoker-group"],
					[10, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[5, "only-royalguard"]
                ],
				"gate": {
                    "start-unlocked": true
				}
            }
		},
		{
            "id": "longest_yard",
			"trigger": "courtyard.*.objective",
            "click": {
                "object": "Decor/Prefabs/DoorExit/BP_DoorLocked_Gold_HighblockHalls",
                "count": 1,
                "locations": [
            	    "courtyard.*.goldgate"
                ],
                "key-locations": [
            	    "courtyard.*.goldkey"
                ],
				"key-type": "gold",
				"mobs": [1, "hh-default"],
				"mob-stretch": "courtyard"
            }
        },
		{
            "id": "golden_key",
			"trigger": "keystretch.*.keyobjective",
            "click": {
                "object": "Decor/Prefabs/DoorExit/BP_DoorLocked_Gold_HighblockHalls",
                "count": 1,
                "locations": [
            	    "keystretch.*.golddoor"
                ],
                "key-locations": [
            	    "keystretch.*.goldkey"
                ],
				"key-type": "gold",
				"mobs": [1, "arena-raiders"],
				"mob-stretch": "keystretch"
            }
        },
		/*{
            "id": "secret_button",
            "trigger": "*.hh_005_secret.startsecret",
            "click": {
                "object": "Decor/Prefabs/GuideBeacon/BP_ShieldButton",
                "door-path": "Decor/Prefabs/Platforms/BP_SecretGate",
                "count": 1,
                "locations": [
                    "*.*.triggersecret"
                ],
                "locked-doors": [
                    "*.*.secretdoor"
                ]
            }
        },*/
		{
            "id": "wall_arena",
            "trigger": "*.*.wall_challenge",
            "reward": {
                "region": "*.*.wall_loot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },
            "arena": {
                "stretch": "*",
                "interval": 2,
                "rest-interval": 1,
                "start-time": 2.0,
				"prespawn-mob": "",
                "waves": [
                    [4, "arena-raiders"],
					[2, "arena-raiders"],
					[2, "arena-raiders"],
					[2, "arena-raiders"],
                    [1, "arena-enchanter-group"],
					[3, "arena-enchanter-group"],
					[3, "arena-enchanter-group"],
					[2, "arena-enchanter-group"],
					[1, "arena-evoker-group"],
					[4, "arena-raiders"],
                ],
                 "gate": null
			}
        },
		{
            "id": "angry_revenants",
            "trigger": "*.*.doomtrap",
            "arena": {
                "stretch": "*",
                "interval": 2,
                "rest-interval": 1,
                "start-time": 2.0,
				"prespawn-mob": "",
                "waves": [
                    [40, "hh-firing-squad"],
                ],
                 "gate": null
			}
        }
	]
}