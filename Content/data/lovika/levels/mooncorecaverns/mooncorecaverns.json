
{
	"id": "RedstoneMines",
	"loctable-id": "mooncorecaverns",

	"object-groups": [
		"genericcaves/objectgroup",
		"redstonemines/objectgroup"
	],
	"resource-packs": [
		"MooncoreCaverns"
	],

	"visual-theme": "cave",
	"sound-theme": "cave",
	"prop-density": 0.5,
	
    "mob-files": [
		"mooncorecaverns/moonmobs.json"
	],
        "#dm" : "density:Float {only, add}: WeightedStringArray, not: StringArray",
    "default-mobs": {
        "only": [
        	{"id": "zombie-horde", "weight": 1},
			{"id": "mc-raiders", "weight": 0.2}, 
			{"id": "mc-mix", "weight": 3}
        ]
    }, 

	"tile-files": [
		"mooncorecaverns/moontiles.json", "runeroom/rr_tiles.json"
	],

	"objectives": [
		{
            "name": "name_left_behind",
            "description": "description_find_the_villager_labourers",
            "displayMode": "MainObjective",
            "gauntlet": {
                "end-region": "miner.*.objective"
            }
        },
        {
            "name": "name_left_behind",
            "description": "description_free_the_villagers",
            "displayMode": "MainObjective",
            "click": {
                "object": "Decor/Prefabs/MinerVillager/BP_MinerVillager",
                "count": 3,
                "locations": [
            	    "miner.*.villager1",
            		"miner.*.villager2",
            		"miner.*.villager3"
                ],
                "locked-doors": [
                	"miner.*.gate"
                ]
            }
        },
        {
            "name": "name_left_behind",
            "description": "description_find_the_other_villager_labourers",
            "gauntlet": {
                "end-region": "miner2.*.objective"
            }
        },
        {
            "name": "name_left_behind",
            "description": "description_free_the_villagers",
            "displayMode": "MainObjective",
            "click": {
                "object": "Decor/Prefabs/MinerVillager/BP_MinerVillager",
                "count": 6,
                "locations": [
            	    "miner2.*.villager1",
            		"miner2.*.villager2",
            		"miner2.*.villager3",
            		"miner2.*.villager4",
            		"miner2.*.villager5",
            		"miner2.*.villager6"
                ],
                "locked-doors": [
                	"miner2.*.gate"
                ]
            }
        },
        {
            "name": "name_left_behind",
            "description": "description_reach_the_mines_exit",
            "gauntlet": {
                "end-region": "boss.*.objective"
            }
        },
        {
            "name": "name_left_behind",
            "description": "description_defeat_the_redstone_golem",
            "arena": {
                "stretch": "boss",
                "interval": 20,
                "rest-interval": 3,
                "waves": [
                    [1, "redstonegolem-solo"]
                ]
            }
		},
        {
            "name": "name_left_behind",
            "description": "description_exit_through_the_gate",
            "displayMode": "MainObjective",
            "click": {
                "object": "Decor/Prefabs/DoorExit/BP_DoorExit_RM",
                "count": 1,
                "locations": [
            	    "end.*.doorexit"
                ]
            }
        }
    ],
	"stretches": [
		{
			"id": "start",
			"tile-groups": ["start_new"],
			"audio-ambience": "audio_2",
			"visual-theme": "cave_dark",
			"mobs": {
				"density": 0.07
			},			
		},
		{
			"id": "",
			"tile-groups": ["common"],
			"audio-ambience": "audio_2",
			"prop-groups": ["generic_cave_decor", "manmade", "water"],
			"visual-theme": "cave_dark"
		},
		{
			"id": "",
			"tile-groups": ["stairs"],
			"audio-ambience": "audio_2",
			"prop-groups": ["generic_cave_decor", "manmade", "water"],
			"length": 1,
			"visual-theme": "cave_dark"
		},
		{
			"id": "",
			"tile-groups": ["mine"],
			"audio-ambience": "audio_2",
			"prop-groups": ["generic_cave_decor", "manmade", "water"],
			//"length": 3,
			"length": 2,
			"visual-theme": "cave_dark"
		},
		{
			"id": "",
			"tile-groups": ["uncommon"],
			"audio-ambience": "audio_2",
			"prop-groups": ["generic_cave_decor", "manmade", "water"],
			"length": 1,
			"visual-theme": "cave_dark"
		},
		{
			"id": "",
			"tile-groups": ["rails"],
			"audio-ambience": "audio_2",
			"sound-theme": "silent",
			"visual-theme": "cave_dark"
		},
		{
			"id": "InventoryStretch",
			"tile-groups": ["inventory"],
			"audio-ambience": "audio_2",
			"sound-theme": "silent",
			"visual-theme": "cave_dark"
		},
		{
			"id": "miner",
			"tile-groups": ["miner1"],
			"prop-groups": ["generic_cave_decor", "manmade", "water"],
			"length": 1,
			"visual-theme": "cave_dark",
			"mobs": {
				"only": ["mc-obj"]
			}
		},
		{
			"id": "",
			"tile-groups": ["stairs"],
			"length": 1,
			"visual-theme": "cave_dark"
		},
		{
			"id": "stairs",
			"tile-groups": ["rails"],
			"sound-theme": "silent",
			"visual-theme": "cave_dark"
		},
		{
			"id": "",
			"tile-groups": ["uncommon"],
			"prop-groups": ["generic_cave_decor", "manmade", "water"],
			"length": 2,
			"visual-theme": "cave_dark"
		},
		{
			"id": "",
			"tile-groups": ["mine"],
			"sound-theme": "silent",
			"visual-theme": "cave_dark"
		},
		{
			"id": "InventoryStretch",
			"tile-groups": ["inventory"],
			"sound-theme": "silent",
			"visual-theme": "cave_dark"
		},
		{
			"id": "",
			"tile-groups": ["common"],
			"prop-groups": ["generic_cave_decor", "manmade", "water"],
			//"length": 3,
			"length": 2,
			"visual-theme": "cave_dark"
		},
		{
			"id": "miner2",
			"tile-groups": ["miner2"],
			"prop-groups": ["generic_cave_decor", "manmade", "water"],
			"length": 1,
			"visual-theme": "cave_dark",
			"mobs": {
				"only": ["mc-obj"]
			}
		},
		{
			"id": "",
			"tile-groups": ["rails"],
			"length": 1,
			"visual-theme": "cave_dark"
		},
		{
			"id": "",
			"tile-groups": ["mine"],
			"prop-groups": ["generic_cave_decor", "manmade", "water"],
			//"length": 3,
			"length": 2,
			"visual-theme": "cave_dark"		
		},
		{
			"id": "boss",
			"tile-groups": ["boss"],
			"length": 1,
			"visual-theme": "cave_dark"
		},
		{
			"id": "end",
			"tile-groups": ["end"],
			"sound-theme": "silent",
			"visual-theme": "cave_dark",
			"mobs": {
				"only": ["mc-end"]
			}
		}
	],
	"side-paths": {
	    "probability": 0.25,
		"default": {
	        "max-length": [1, 4],
	        "dead-ends": ["common"],
	        "tile-groups": ["common"]
	    }
	}
}