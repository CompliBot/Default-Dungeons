
{
    "id": "PrisonDungeon",
	"play-intro": false,
	"require-matching-doors": false,
    "object-groups": [
		"highblockhalls/objectgroup", "PrisonDungeon/objectgroup"
    ],
	
	    "resource-packs": [
        "HighblockHalls"
    ],
	
	"visual-theme": "cave",
	"sound-theme": "cave",
	"prop-density": 0.8,
	"mob-files": [
		"HighblockHalls/mobs.json"
	],
    "#dm" : "density:Float {only, add}: WeightedStringArray, not: StringArray",
    "default-mobs": {
        "only": [
            "hh-default",
            "hh-default-wraiths",
			"hh-default-guards"
        ]
    },
    "tile-files": [
		"HighblockHalls/tiles.json",
		"RuneRoom/rr_Tiles.json"
    ],
    "stretches": [
	
		{
            "id": "startstretch",
            "tiles": ["hh_bonus_start"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0.5
			}
        },
		{
            "id": "cozy",
            "tiles": ["hh_001", "hh_009", "hh_010", "hh_019", "hh_020", "hh_021"],
			"length": 2,
			"mobs": {
				"density": 1
			}
        },
		{
            "id": "descent",
            "tiles": ["hh_cellar_entrance_001"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 1
			}
        },
		{
            "id": "fillstart",
            "tiles": ["hh_uh_continuation"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "fill",
            "tiles": ["hh_002", "hh_004", "hh_005", "hh_006_alt", "hh_012", "hh_013", "hh_017"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "",
            "tiles": ["underhalls_padding"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "fill2",
            "tiles": ["hh_002", "hh_004", "hh_005", "hh_006_alt", "hh_012", "hh_013", "hh_017"],
			"length": 1,
			"mobs": {
				"not": ["hh-default-guards"],
				"density": 0
			}
        },
		{
            "id": "inventory002",
            "tiles": ["hh_underhallsreturn"],
			"length": 1,
			"mobs": {
				"density": 1
			}
        },
		{
            "id": "finale",
            "tiles": ["hh_underhalls_end"],
			"length": 1,
			"mobs": {
				"density": 1,
				"only": ["hh-climax-group"]
			}
        }
    ],
	          
	"objectives": [
		{
            "name": "name_what_lies_below",
            "description": "description_descend_into_the_cellar",
            "displayMode": "MainObjective",
            "gauntlet": {
                "end-region": "descent.*.objective"
            }
        },
		{
            "name": "name_abandoned_cellar",
            "description": "description_explore_the_cellar",
            "displayMode": "MainObjective",
            "gauntlet": {
                "end-region": "*.hh_cellar_exit_001_alt.objective"
            }
        },
		{
            "name": "name_forgotten_prison",
            "description": "description_explore_the_prison",
            "displayMode": "MainObjective",
            "gauntlet": {
                "end-region": "*.hh_cellar_end.objective"
            }
        },
		{
            "name": "name_highblock_halls",
            "description": "description_leave_the_forgotten_halls",
            "displayMode": "MainObjective",
			"consider-tiles": "all",
            "click": {
                "object": "Decor/Prefabs/DoorExit/BP_DoorExit_Underhalls",
                "count": 1,
                "locations": [
                    "*.*.blerp"
					]
			}
        }
	],
	"dungeon-files": [
		"HighblockHalls/hh_bonus_cellar.json",
		"HighblockHalls/hh_bonus_prison.json",
		"HighblockHalls/prison.json",
		"HighblockHalls/cellar.json",
		"HighblockHalls/well.json",
		"HighblockHalls/secretroom.json",
		"HighblockHalls/outerwall.json",
		"HighblockHalls/runesecret.json"
	],
	"challenges": [
		{
            "id": "inventory_lever",
            "trigger": "inventory002.*.leverchallenge",
            "click": {
                "object": "Decor/Prefabs/GuideBeacon/BP_DoorLever",
                "door-path": "Decor/Prefabs/Platforms/BP_KitchenGateHH",
                "count": 1,
                "locations": [
                    "inventory002.*.lever"
                ],
                "locked-doors": [
                    "inventory002.*.gate"
                ]
            }
        },
		{
            "id": "underhalls_lever",
            "trigger": "*.hh_underhallsreturn.leverchallenge",
            "click": {
                "object": "Decor/Prefabs/GuideBeacon/BP_DoorLever",
                "door-path": "Decor/Prefabs/Platforms/BP_KitchenGateHH",
                "count": 1,
                "locations": [
                    "*.hh_underhallsreturn.lever"
                ],
                "locked-doors": [
                    "*.hh_underhallsreturn.gate"
                ]
            }
        },
		{
            "id": "well_lever",
            "trigger": "well_exit.*.challenge",
            "click": {
                "object": "Decor/Prefabs/GuideBeacon/BP_DoorLever",
                "door-path": "Decor/Prefabs/Platforms/BP_KitchenGateHH",
                "count": 1,
                "locations": [
                    "well_exit.*.lever"
                ],
                "locked-doors": [
                    "well_exit.*.gate"
                ]
            }
        },
        {
            "id": "clicky_arena",
            "trigger-object": "Decor/Prefabs/SupportBeams/BP_GallowsTrigger",
            "reward": {
                "region": "*.*.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },
            "arena": {
                "stretch": "*",
                "interval": 2.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_arena"],
					[1, "cellar_arena"],
					[1, "cellar_arena"],
					[1, "cellar_arena"],
					[1, "cellar_arena"],
					[2, "cellar_arena"],
					[2, "cellar_arena"],
					[2, "cellar_arena"]
                ],
                 "gate": null
            }
        },
		{
            "id": "trigger_arena",
            "trigger": "*.*.challenge",
            "reward": {
                "region": "*.hh_cellar_challenge_001.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },
            "arena": {
                "stretch": "*",
                "interval": 1.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_mobs"],
					[1, "cellar_mobs"],
					[2, "cellar_mobs"],
					[2, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[4, "cellar_mobs"],
					[4, "cellar_mobs"],
                ],
                 "gate": {
                    "start-unlocked": true
				}
			}
        },
		{
            "id": "trigger_arena2",
            "trigger": "*.hh_cellar_challenge_002.challenge1",
            "reward": {
                "region": "*.hh_cellar_challenge_002.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },
            "arena": {
                "stretch": "*",
                "interval": 1.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_mobs"],
					[1, "cellar_mobs"],
					[2, "cellar_mobs"],
					[2, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[4, "cellar_mobs"],
					[4, "cellar_mobs"],
                ],
				"gate": null
                 /*"gate": {
                    "start-unlocked": true
				}*/
			}
        },
		{
            "id": "trigger_arena3",
            "trigger": "*.hh_cellar_challenge_003.challenge2",
            "reward": {
                "region": "*.hh_cellar_challenge_003.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },
            "arena": {
                "stretch": "*",
                "interval": 1.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_mobs"],
					[1, "cellar_mobs"],
					[2, "cellar_mobs"],
					[2, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[4, "cellar_mobs"],
					[4, "cellar_mobs"],
                ],
				"gate": null
                 /*"gate": {
                    "start-unlocked": true
				}*/
			}
        },
		{
            "id": "supertrap",
            "trigger": "*.*.traparena",
            /*"reward": {
                "region": "*.hh_cellar_challenge_001.challengeloot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },*/
            "arena": {
                "stretch": "*",
                "interval": 1.5,
                "rest-interval": 0,
                "start-time": 2.0,
                "prespawn-mob": "",
                "waves": [
                    [1, "cellar_mobs"],
					[1, "cellar_mobs"],
					[2, "cellar_mobs"],
					[2, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[3, "cellar_mobs"],
					[4, "cellar_mobs"],
					[4, "cellar_mobs"],
                ],
                 "gate": {
                    "start-unlocked": true
				}
			}
        },
		{
            "id": "trigger_silvergate",
			"trigger": "*.*.silvergatechallenge",
			"consider-tiles": "all",
            "click": {
                "object": "Decor/Prefabs/DoorExit/BP_DoorLocked_Silver_CactiCanyon",
                "count": 1,
                "locations": [
                    "*.hh_cellar_exit_002.silvergate"
                ],
                "key-locations": [
                    "endthecellar.hh_cellar_challenge_001.pickupkey"
                ],
                "key-type": "silver"
            }
        },
		{
            "id": "main_arena1",
			"trigger": "keystretch.*.objective_arena",
            "arena": {
                "stretch": "keystretch",
                "interval": 5,
                "rest-interval": 0,
				"start-time": 2.0,
                "waves": [
                    [2, "arena-raiders"],
					[2, "arena-raiders"],
					[2, "arena-raiders"],
					[2, "arena-raiders"],
                    [1, "arena-enchanter-group"],
					[1, "arena-enchanter-group"],
					[1, "arena-enchanter-group"],
					[2, "arena-enchanter-group"],
					[1, "arena-evoker-group"],
					[2, "arena-raiders"],
					[1, "arena-evoker-group"],
					[2, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[0, "arena-raiders"],
					[5, "only-royalguard"]
                ],
				"gate": {
                    "start-unlocked": true
				}
            }
		},
		{
            "id": "longest_yard",
			"trigger": "courtyard.*.objective",
            "click": {
                "object": "Decor/Prefabs/DoorExit/BP_DoorLocked_Gold_HighblockHalls",
                "count": 1,
                "locations": [
            	    "courtyard.*.goldgate"
                ],
                "key-locations": [
            	    "courtyard.*.goldkey"
                ],
				"key-type": "gold",
				"mobs": [1, "hh-default"],
				"mob-stretch": "courtyard.*.goldgate"
            }
        },
		{
            "id": "golden_key",
			"trigger": "keystretch.*.keyobjective",
            "click": {
                "object": "Decor/Prefabs/DoorExit/BP_DoorLocked_Gold_HighblockHalls",
                "count": 1,
                "locations": [
            	    "keystretch.*.golddoor"
                ],
                "key-locations": [
            	    "keystretch.*.goldkey"
                ],
				"key-type": "gold",
				"mobs": [1, "arena-raiders"],
				"mob-stretch": "keystretch.*.golddoor"
            }
        },
		/*{
            "id": "secret_button",
            "trigger": "*.hh_005_secret.startsecret",
            "click": {
                "object": "Decor/Prefabs/GuideBeacon/BP_ShieldButton",
                "door-path": "Decor/Prefabs/Platforms/BP_SecretGate",
                "count": 1,
                "locations": [
                    "*.*.triggersecret"
                ],
                "locked-doors": [
                    "*.*.secretdoor"
                ]
            }
        },*/
		{
            "id": "wall_arena",
            "trigger": "*.*.wall_challenge",
            /*"reward": {
                "region": "*.*.wall_loot",
                "object": "Decor/Prefabs/RewardChest/BP_FancyChest_Reward"
            },*/
            "arena": {
                "stretch": "*",
                "interval": 2,
                "rest-interval": 1,
                "start-time": 2.0,
				"prespawn-mob": "",
                "waves": [
                    [4, "arena-raiders"],
					[2, "arena-raiders"],
					[2, "arena-raiders"],
					[2, "arena-raiders"],
                    [1, "arena-enchanter-group"],
					[3, "arena-enchanter-group"],
					[3, "arena-enchanter-group"],
					[2, "arena-enchanter-group"],
					[1, "arena-evoker-group"],
					[4, "arena-raiders"],
                ],
                 "gate": null
			}
        },
		{
            "id": "angry_revenants",
            "trigger": "*.*.doomtrap",
            "arena": {
                "stretch": "*",
                "interval": 2,
                "rest-interval": 1,
                "start-time": 2.0,
				"prespawn-mob": "",
                "waves": [
                    [20, "hh-firing-squad"],
                ],
                 "gate": null
			}
        }
	]
}